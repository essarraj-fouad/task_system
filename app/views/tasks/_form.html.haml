= simple_form_for([@community, @task]) do |f|
  %fieldset
    %legend= t('form.categories.general')
    = f.input :name
    = f.input :description
    = f.input :time, as: :time, hint: t('form.task_time_hint')
    = f.input :should_be_checked, label: t('form.should_be_checked_hint')

  %fieldset
    %legend= t('form.categories.instantiation')
    %div.radio
      = radio_button_tag 'auto_instantiation', 'no'
      = label_tag t('tasks.new.man_instantiate')
    %div.radio
      = radio_button_tag 'auto_instantiation', 'yes', true
      = label_tag t('tasks.new.auto_instantiate')
    %div#instantiation_options
      = f.input :start_on, as: :string, input_html: {class: 'datepicker'}
      %div.inline
        = f.input :interval_number, as: :integer
        %span.label_hide
          = f.input :interval_unit, as: :select, collection: [:days, :weeks, :months], label: '', include_blank: false
      %div.inline
        = f.input :repeat
        = f.input :repeat_infinite, as: :boolean, label: t('tasks.new.repeat_infinite')
      %div.inline
        = f.input :deadline_number, as: :integer
        %span.label_hide
          = f.input :deadline_unit, as: :select, collection: [:days, :weeks, :months], label: '', include_blank: false

  %fieldset
    %legend= t('form.categories.allocation')
    = f.input :allocation_mode, as: :select, collection: Task::ALLOCATION_MODES_FORM, label: '', include_blank: false
    %div#allocation_user
      = f.association :allocated_user, collection: @members, include_blank: false
